<h3 id="setting-body-status-code-and-headers">Setting Body, Status Code and Headers</h3>
<p>It is possible and recommended to set the status code and response body with the return value of the route block. However, in some scenarios you might want to set the body at an arbitrary point in the execution flow. You can do so with the <code>body</code> helper method. If you do so, you can use that method from there on to access the body:</p>
<div class="sourceCode"><pre class="sourceCode ruby"><code class="sourceCode ruby">get <span class="st">&#39;/foo&#39;</span> <span class="kw">do</span>
  body <span class="st">&quot;bar&quot;</span>
<span class="kw">end</span>

after <span class="kw">do</span>
  puts body
<span class="kw">end</span></code></pre></div>
<p>It is also possible to pass a block to <code>body</code>, which will be executed by the Rack handler (this can be used to implement streaming, see &quot;Return Values&quot;).</p>
<p>Similar to the body, you can also set the status code and headers:</p>
<div class="sourceCode"><pre class="sourceCode ruby"><code class="sourceCode ruby">get <span class="st">&#39;/foo&#39;</span> <span class="kw">do</span>
  status <span class="dv">418</span>
  headers \
    <span class="st">&quot;Allow&quot;</span>   =&gt; <span class="st">&quot;BREW, POST, GET, PROPFIND, WHEN&quot;</span>,
    <span class="st">&quot;Refresh&quot;</span> =&gt; <span class="st">&quot;Refresh: 20; http://www.ietf.org/rfc/rfc2324.txt&quot;</span>
  body <span class="st">&quot;I&#39;m a tea pot!&quot;</span>
<span class="kw">end</span></code></pre></div>
<p>Like <code>body</code>, <code>headers</code> and <code>status</code> with no arguments can be used to access their current values.</p>
