<p>CSS: style.css Use numbered headers: true HTML use syntax: true LaTeX use listings: true LaTeX CJK: false LaTeX preamble: preamble.tex</p>
<div class="figure">
<img src="logo.png" alt="MaRuKu" id="logo" />
<p class="caption">MaRuKu</p>
</div>
<h1 id="maruku-a-markdown-superset-interpreter">Mar<strong>u</strong>k<strong>u</strong>: a Markdown-superset interpreter</h1>
<p><a href="http://maruku.rubyforge.org/">Maruku</a> is a Markdown interpreter written in <a href="http://www.ruby-lang.org">Ruby</a>.</p>
<blockquote>
<p><a href="#release_notes">Last release</a> is version 0.5.6 -- 2007-05-22.</p>
<p>Install using <a href="http://rubygems.org">rubygems</a>:</p>
<p>$ gem install maruku</p>
<p>Use this command to update to latest version:</p>
<p>$ gem update maruku</p>
<p>{#news}</p>
</blockquote>
<hr />
<p>Maruku allows you to write in an easy-to-read-and-write syntax, like this:</p>
<blockquote>
<p><a href="http://maruku.rubyforge.org/maruku.md">This document in Markdown</a></p>
</blockquote>
<p>Then it can be translated to HTML:</p>
<blockquote>
<p><a href="http://maruku.rubyforge.org/maruku.html">This document in HTML</a></p>
</blockquote>
<p>or LaTeX, which is then converted to PDF:</p>
<blockquote>
<p><a href="http://maruku.rubyforge.org/maruku.pdf">This document in PDF</a></p>
</blockquote>
<p>Maruku implements:</p>
<ul>
<li><p>the original <a href="http://maruku.rubyforge.org/markdown_syntax.html">Markdown syntax</a> (<a href="http://maruku.rubyforge.org/markdown_syntax.html">HTML</a> or <a href="http://maruku.rubyforge.org/markdown_syntax.pdf">PDF</a>), translated by Maruku).</p></li>
<li><p>all the improvements in <a href="http://www.michelf.com/projects/php-markdown/extra/">PHP Markdown Extra</a>.</p></li>
<li><p>a new <a href="http://maruku.rubyforge.org/proposal.html">meta-data syntax</a></p></li>
</ul>
<p><strong>Authors</strong>: Maruku has been developed so far by <a href="http://www.dis.uniroma1.it/~acensi/">Andrea Censi</a>. Contributors are most welcome!</p>
<p><strong>The name of the game</strong>: Maruku is the <a href="http://en.wikipedia.org/wiki/Romaji">romaji</a> transliteration of the <a href="http://en.wikipedia.org/wiki/Katakana">katakana</a> transliteration of &quot;Mark&quot;, the first word in Markdown. I chose this name because Ruby is Japanese, and also the sillable &quot;ru&quot; appears in Maruku.</p>
<hr />
<p>Table of contents: (<strong>auto-generated by Maruku!</strong>)</p>
<ul>
<li>This list will contain the toc (it doesn't matter what you write here) {:toc}</li>
</ul>
<hr />
<p>{:ruby: lang=ruby code_background_color='#efffef'} {:shell: lang=sh code_background_color='#efefff'} {:markdown: code_background_color='#ffefef'} {:html: lang=xml}</p>
<h2 id="release_notes">Release notes</h2>
<p>Note: Maruku seems to be very robust, nevertheless it is still beta-level software. So if you want to use it in production environments, please check back in a month or so, while we squash the remaining bugs.</p>
<p>In the meantime, feel free to toy around, and please signal problems, request features, by <a href="http://www.dis.uniroma1.it/~acensi/contact.html">contacting me</a> or using the <a href="http://rubyforge.org/tracker/?group_id=2795">tracker</a>. For issues about the Markdown syntax itself and improvements to it, please write to the <a href="http://six.pairlist.net/mailman/listinfo/markdown-discuss">Markdown-discuss mailing list</a>.</p>
<p>Have fun!</p>
<p>See the <a href="http://maruku.rubyforge.org/changelog.html#stable">changelog</a>.</p>
<h2 id="usage">Usage</h2>
<h3 id="embedded-maruku">Embedded Maruku</h3>
<p>This is the basic usage:</p>
<div class="sourceCode"><pre class="sourceCode ruby"><code class="sourceCode ruby">require <span class="st">&#39;rubygems&#39;</span>
require <span class="st">&#39;maruku&#39;</span>

doc = <span class="dt">Maruku</span>.new(markdown_string)
puts doc.to_html</code></pre></div>
<p>{:ruby}</p>
<p>The method <code>to_html</code> outputs only an HTML fragment, while the method <code>to_html_document</code> outputs a complete XHTML 1.0 document:</p>
<div class="sourceCode"><pre class="sourceCode ruby"><code class="sourceCode ruby">puts doc.to_html_document</code></pre></div>
<p>{:ruby}</p>
<p>You can have the REXML document tree with:</p>
<div class="sourceCode"><pre class="sourceCode ruby"><code class="sourceCode ruby">tree = doc.to_html_document_tree</code></pre></div>
<p>{:ruby}</p>
<h3 id="from-the-command-line">From the command line</h3>
<p>There is one command-line program installed: <code>maruku</code>.</p>
<p>Without arguments, it converts Markdown to HTML:</p>
<pre><code>$ maruku file.md  # creates file.html</code></pre>
<p>{:shell}</p>
<p>With the <code>--pdf</code> arguments, it converts Markdown to LaTeX, then calls <code>pdflatex</code> to transform to PDF:</p>
<pre><code>$ maruku --pdf file.md  # creates file.tex and file.pdf</code></pre>
<p>{:shell}</p>
<h2 id="features">Maruku summary of features</h2>
<ul>
<li><p>Supported syntax</p>
<ul>
<li>[Basic Markdown][markdown_syntax]</li>
<li><a href="#extra">Markdown Extra</a></li>
<li><a href="#meta">Meta-data syntax</a></li>
</ul></li>
<li><p>Output</p>
<ul>
<li><p>XHTML</p>
<ul>
<li>Syntax highlighting via the <a href="http://syntax.rubyforge.org/"><code>syntax</code></a> library.</li>
</ul></li>
<li><p>LaTeX</p>
<ul>
<li><a href="#entities">Translation of HTML entities to LaTeX</a></li>
<li>Syntax highlighting via the <a href="http://www.ctan.org/tex-archive/macros/latex/contrib/listings/"><code>listings</code></a> package.</li>
</ul></li>
</ul></li>
<li><p>Misc</p>
<ul>
<li><p><a href="exd.html">Documentation for supported attributes</a></p></li>
<li><p><a href="#toc-generation">Automatic generation of the TOC</a></p></li>
</ul></li>
</ul>
<p><strong>Experimental features (not released yet)</strong></p>
<ul>
<li>[LaTeX Math syntax][math_syntax] (not enabled by default)</li>
<li>An extension system for adding new syntax is available, but the API is bound to change in the future, so please don't use it.</li>
<li>LaTeX to MathML using either one of <a href="http://ritex.rubyforge.org"><code>ritex</code></a>, <a href="http://golem.ph.utexas.edu/~distler/code/itexToMML/"><code>itex2mml</code></a>, <a href="http://www.blahtex.org"><code>blahtex</code></a>.</li>
<li>LaTeX to PNG using <a href="http://www.blahtex.org"><code>blahtex</code></a>.</li>
</ul>
<h3 id="meta">New meta-data syntax</h3>
<p>Maruku implements a syntax that allows to attach &quot;meta&quot; information to objects.</p>
<p>See <a href="http://maruku.rubyforge.org/proposal.html">this proposal</a> for how to attach metadata to the elements.</p>
<p>See the <a href="exd.html">documentation for supported attributes</a>.</p>
<p>Meta-data for the document itself is specified through the use of email headers:</p>
<pre><code>Title: A simple document containing meta-headers
CSS: style.css

Content of the document</code></pre>
<p>{:markdown}</p>
<p>When creating the document through</p>
<pre><code>Maruku.new(s).to_html_document</code></pre>
<p>{:ruby}</p>
<p>the title and stylesheet are added as expected.</p>
<p>Meta-data keys are assumed to be case-insensitive.</p>
<h3 id="toc-generation">Automatic generation of the table of contents</h3>
<p>If you create a list, and then set the <code>toc</code> attribute, when rendering Maruku will create an auto-generated table of contents.</p>
<pre><code>* This will become a table of contents (this text will be scraped).
{:toc}</code></pre>
<p>You can see an example of this at the beginning of this document.</p>
<h3 id="entities">Use HTML entities</h3>
<p>If you want to use HTML entities, go on! We will take care of the translation to LaTeX:</p>
<table>
<thead>
<tr class="header">
<th>Entity</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&amp;copy;</code></td>
<td>©</td>
</tr>
<tr class="even">
<td><code>&amp;pound;</code></td>
<td>£</td>
</tr>
<tr class="odd">
<td><code>&amp;lambda;</code></td>
<td>λ</td>
</tr>
<tr class="even">
<td><code>&amp;mdash;</code></td>
<td>—</td>
</tr>
</tbody>
</table>
<p>See the <a href="http://maruku.rubyforge.org/entity_test.html">list of supported entities</a> (<a href="http://maruku.rubyforge.org/entity_test.pdf">pdf</a>).</p>
<h3 id="this-header-contains-emphasis-strong-text-and-code">This header contains <em>emphasis</em> <strong>strong text</strong> and <code>code</code></h3>
<p>Note that this header contains formatting and it still works, also in the table of contents.</p>
<p>And <a href="#features">This is a <em>link</em> with <strong>all</strong> <strong><em>sort</em></strong> of <code>weird stuff</code></a> in the text.</p>
<h2 id="extra">Examples of PHP Markdown Extra syntax</h2>
<ul>
<li><p>tables</p>
<pre><code>Col1 | Very very long head | Very very long head|
-----|:-------------------:|-------------------:|
cell | center-align        | right-align        |</code></pre>
<p>{:markdown}</p>
<table>
<thead>
<tr class="header">
<th>Col1</th>
<th align="center">Very very long head</th>
<th align="right">Very very long head</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>cell</td>
<td align="center">center-align</td>
<td align="right">right-align</td>
</tr>
</tbody>
</table></li>
<li><p>footnotes <a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
<pre><code>* footnotes [^foot]

[^foot]: I really was missing those.</code></pre>
<p>{:markdown}</p></li>
</ul>
<ul>
<li><p>Markdown inside HTML elements</p>
<pre><code>&lt;div markdown=&quot;1&quot; style=&quot;border: solid 1px black&quot;&gt;
   This is a div with Markdown **strong text**
&lt;/div&gt;</code></pre>
<p>{:html}</p>
<div markdown="1" style="border: solid 1px black">
<p>This is a div with Markdown <strong>strong text</strong></p>
</div></li>
<li><p>header ids</p>
<pre><code>## Download ##     {#download}</code></pre>
<p>{:markdown}</p>
<p>For example, <a href="#download">a link to the download</a> header.</p></li>
<li><p>definition lists</p>
<pre><code>Definition list
: something very hard to parse</code></pre>
<p>{:markdown}</p>
<dl>
<dt>Definition list</dt>
<dd>something very hard to parse
</dd>
</dl></li>
<li><p>abbreviations or ABB for short.</p></li>
</ul>
<p>*[ABB]: Simply an abbreviation</p>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-155626-2";
urchinTracker();
</script>
<!--
Future developments                              {#future}

I think that [Pandoc] and [MultiMarkdown] are very cool projects.
However, they are written in Haskell and Perl, respectively. 
I would love to have an equivalent in Ruby.

[Pandoc]: http://sophos.berkeley.edu/macfarlane/pandoc/
[MultiMarkdown]: http://fletcher.freeshell.org/wiki/MultiMarkdown

-->
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>I really was missing those.<a href="#fnref1">↩</a></p></li>
</ol>
</div>
